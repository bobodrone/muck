
<!DOCTYPE html>
<html>
<head>
  <title>xkraut.com</title>
  <style>
  body {
    position: relative;
    margin: 0;
  }
  .container {
    width:600px;
    margin: 0 auto;
    text-align: center;
    font-size: 4em;
  }
  #days {
    font-size: 3em;
  }
   canvas {
    position: absolute;
    background: transparent;
    z-index: 10;
    top:0;
    left:0;
  }
  </style>
</head>
<body>
<div class="container">
  <div id="days"></div>
  <div>Dagar kvar till muck</div>
</div>
<script>
  window.addEventListener('load', init);

  var TO_RADIANS = Math.PI / 180;

  var canvas = document.createElement('canvas');
  canvas.width = window.innerWidth;
  canvas.height = window.innerHeight;

  document.body.appendChild(canvas);

  var context = canvas.getContext('2d');

  var image = new Image();
  image.src = 'img/carrot.png'

  function init() {
    setInterval(loop, 1000 / 30);
  }

  var carrots = [];

  function loop() {
    try {
      context.clearRect(0, 0, canvas.width, canvas.height);

      for (i = 0; i < 2; i++) {
        carrots.push({
          x: Math.random() * canvas.width,
          y: (Math.random() * canvas.height) * -1,
          a: Math.random() * 360.0
        });
      }

      for (i = 0; i < carrots.length; i++) {
        carrot = carrots[i];

        carrot.a += 1.0;
        if (carrot.a >= 360.0) {
          carrot.a = 0.0;
        }

        carrot.y += 1.8;
        carrot.x += Math.random() * 2 - 1;

        context.save();
        context.translate(carrot.x, carrot.y);
        context.rotate(carrot.a * TO_RADIANS);
        context.drawImage(image, -15, -15, 30, 30);
        context.restore();

        if (carrot.y - 15 > canvas.height) {
          carrots.splice(i, 1);
        }
      }
    }
    catch(err) {
      console.log(err);
      console.trace();
    }
  }
  </script>
  <script>

    var muck = {};
    muck.when = function() {

    var today = new Date();
    var date = today.getDate();
    var what;

    switch(date) {
          case 7:
           case 8:
          case 9:
              what = '5';
              break;
          case 10:
              what = '4';
              break;
          case 11:
              what = '3';
              break;
          case 12:
              what = '2';
              break;
          case 13:
              what = '1';
              break;
          case 14:
              what = '0';
              break;
          default:
              what = 'have already forgotten...';
      }
    return what;
  }


  var element = document.getElementById("days");
  element.innerHTML = muck.when();
  </script>
</body>
</html>
